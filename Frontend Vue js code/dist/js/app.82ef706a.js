(function(t){function e(e){for(var s,r,i=e[0],l=e[1],c=e[2],d=0,p=[];d<i.length;d++)r=i[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&p.push(o[r][0]),o[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,i=1;i<a.length;i++){var l=a[i];0!==o[l]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},o={app:0},n=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"033f":function(t,e,a){"use strict";var s=a("56f0"),o=a.n(s);o.a},"034f":function(t,e,a){"use strict";var s=a("64a9"),o=a.n(s);o.a},"280a":function(t,e,a){"use strict";var s=a("91db"),o=a.n(s);o.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var s=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[a("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[a("router-link",{attrs:{to:"/home"}},[t._v("Royal Manta")])],1),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item active"},[a("a",{staticClass:"nav-link"},[a("router-link",{attrs:{to:"/home"}},[t._v("Home")]),a("span",{staticClass:"sr-only"},[t._v("(current)")])],1)]),t.loggedIn?a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link"},[a("router-link",{attrs:{to:"/add-tour"}},[t._v("Add Tour guide")])],1)]):t._e(),t.loggedIn?a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link"},[a("router-link",{attrs:{to:"/my-tours"}},[t._v("My Tours")])],1)]):t._e(),t.loggedIn?t._e():a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link"},[a("router-link",{attrs:{to:"/login"}},[t._v("Login")])],1)]),t.loggedIn?t._e():a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link"},[a("router-link",{attrs:{to:"/Signup"}},[t._v("Sign Up")])],1)]),t.loggedIn?a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[a("router-link",{attrs:{to:"/home"}},[t._v("Log Out")])],1)]):t._e()])])]),a("router-view"),a("notifications",{attrs:{group:"foo"}})],1)},n=[],r=(a("a481"),{name:"app",components:{},data:function(){return{loggedIn:!1}},methods:{ifLoggedIn:function(){localStorage.getItem("token")&&(this.loggedIn=!0)},logout:function(){localStorage.removeItem("token"),this.$router.replace({name:"home"}),location.reload()}},mounted:function(){this.ifLoggedIn()}}),i=r,l=(a("034f"),a("2877")),c=Object(l["a"])(i,o,n,!1,null,null,null),u=c.exports,d=a("8c4f"),p=a("9f7b"),m=a("bc3a"),f=a.n(m),g=(a("f9e3"),a("2dd8"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{"margin-top":"5%"}},[t._m(0),a("br"),a("div",{staticClass:"row"},[t._l(t.tours,(function(e){return a("div",{key:e,staticClass:"card",staticStyle:{width:"14rem"}},[a("img",{staticClass:"card-img-top",attrs:{src:"https://www.ibts.org/wp-content/uploads/2017/08/iStock-476085198.jpg",alt:"..."}}),a("div",{staticClass:"card-body"},[a("p",{staticClass:"card-text"},[a("span",{staticClass:"inCard"},[t._v("Name :")]),a("b",[t._v(t._s(e["name"]))])]),a("p",{staticClass:"card-text"},[a("span",{staticClass:"inCard"},[t._v("Phone :")]),a("b",[t._v(t._s(e["phone"]))])]),a("p",{staticClass:"card-text"},[a("span",{staticClass:"inCard"},[t._v("Fees :")]),a("b",[t._v(t._s(e["fees"]))])]),a("p",{staticClass:"card-text"},[a("span",{staticClass:"inCard"},[t._v("City :")]),a("b",[t._v(t._s(e["city"]))])]),a("p",{staticClass:"card-text"},[a("span",{staticClass:"inCard"},[t._v("Language :")]),a("b",[t._v(t._s(e["language"]))])]),a("button",{staticClass:"btn btn-primary",on:{click:function(a){return t.Delete(e["tour_id"])}}},[t._v("Delete")]),a("button",{staticClass:"btn btn-primary",on:{click:function(a){return t.Edit(e["tour_id"])}}},[t._v("Edit")])])])})),a("br"),a("br")],2)])}),h=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("h2",{staticClass:"font-weight-light text-center text-lg-left",staticStyle:{"margin-top":"5%"}},[t._v("Welcome to Your Created Tour Guides\n    ")])])}],v=a("48ac"),C=a.n(v),y={name:"MyTours",props:{},data:function(){return{tours:[]}},mounted:function(){var t=this;this.$http.get("http://localhost:3000/tours/getmytours/"+C.a.decode(localStorage.getItem("token")).userId).then((function(e){return t.tours=e.data.rows}))},methods:{Delete:function(t){var e=this;this.$http.delete("http://localhost:3000/tours/delete/"+t).then((function(t){e.$notify({group:"foo",title:"Success",text:"You Deleted The tour !"}),e.$router.push({name:"home"})}))},Edit:function(t){this.$router.push({name:"add-tour",params:{id:t}})}}},b=y,_=(a("033f"),Object(l["a"])(b,g,h,!1,null,"5cf57feb",null)),w=_.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{"margin-top":"5%"}},[t._m(0),a("br"),t.loggedIn?a("div",{staticClass:"row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchCity,expression:"searchCity"}],staticClass:"form-control col-4",attrs:{type:"text",placeholder:"Filter by city"},domProps:{value:t.searchCity},on:{input:function(e){e.target.composing||(t.searchCity=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchLanguage,expression:"searchLanguage"}],staticClass:"form-control col-4",attrs:{type:"text",placeholder:"Filter by Language"},domProps:{value:t.searchLanguage},on:{input:function(e){e.target.composing||(t.searchLanguage=e.target.value)}}})]):t._e(),a("br"),a("br"),a("div",{staticClass:"row"},t._l(t.filteredtours,(function(e){return a("div",{key:e,staticClass:"card",staticStyle:{width:"14rem"}},[a("img",{staticClass:"card-img-top",attrs:{src:"https://www.ibts.org/wp-content/uploads/2017/08/iStock-476085198.jpg",alt:"..."}}),a("div",{staticClass:"card-body"},[a("p",{staticClass:"card-text"},[a("span",{staticClass:"inCard"},[t._v("Name :")]),a("b",[t._v(t._s(e["name"]))])]),a("p",{staticClass:"card-text"},[a("span",{staticClass:"inCard"},[t._v("Phone :")]),a("b",[t._v(t._s(e["phone"]))])]),a("p",{staticClass:"card-text"},[a("span",{staticClass:"inCard"},[t._v("fees :")]),a("b",[t._v(t._s(e["fees"]))])]),a("p",{staticClass:"card-text"},[a("span",{staticClass:"inCard"},[t._v("City :")]),a("b",[t._v(t._s(e["city"]))])]),a("p",{staticClass:"card-text"},[a("span",{staticClass:"inCard"},[t._v("Language :")]),a("b",[t._v(t._s(e["language"]))])])])])})),0)])},S=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("h2",{staticClass:"font-weight-light text-center text-lg-left",staticStyle:{"margin-top":"5%"}},[t._v("Welcome to Royal Manta's Tour Guides ")])])}],$={name:"Home",data:function(){return{tours:[],searchCity:"",searchLanguage:"",loggedIn:!1}},methods:{ifLoggedIn:function(){localStorage.getItem("token")&&(this.loggedIn=!0)}},mounted:function(){var t=this;this.ifLoggedIn(),this.$http.get("http://localhost:3000/tours/getall").then((function(e){console.log(e),t.tours=e.data.rows}))},computed:{filteredtours:function(){var t=this;return this.searchCity&&!this.searchLanguage?this.tours.filter((function(e){return e.city.toLowerCase().indexOf(t.searchCity.toLowerCase())>=0})):this.searchLanguage&&!this.searchCity?this.tours.filter((function(e){return e.language.toLowerCase().indexOf(t.searchLanguage.toLowerCase())>=0})):this.searchLanguage&&this.searchCity?this.tours.filter((function(e){return e.language.toLowerCase().indexOf(t.searchCity.toLowerCase())&&e.city.toLowerCase().indexOf(t.searchCity.toLowerCase())>=0})):this.tours}}},k=$,L=(a("d286"),Object(l["a"])(k,x,S,!1,null,"0bc5ea33",null)),P=L.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{"margin-top":"5%"}},[a("form",{staticClass:"text-center p-5",staticStyle:{border:"2px solid grey","border-radius":"5px"},attrs:{action:"#!"}},[a("h2",{staticClass:"font-weight-light text-center",staticStyle:{"margin-top":"5%","margin-bottom":"5%"}},[t._v("Add Tour Guide")]),a("div",{staticClass:"col-8 offset-2",attrs:{id:"input"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tour.name,expression:"tour.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Name"},domProps:{value:t.tour.name},on:{input:function(e){e.target.composing||t.$set(t.tour,"name",e.target.value)}}})]),a("div",{staticClass:"col-8 offset-2",attrs:{id:"input"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tour.phone,expression:"tour.phone"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Contact number"},domProps:{value:t.tour.phone},on:{input:function(e){e.target.composing||t.$set(t.tour,"phone",e.target.value)}}})]),a("div",{staticClass:"col-8 offset-2",attrs:{id:"input"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tour.fees,expression:"tour.fees"}],staticClass:"form-control mb-4",attrs:{type:"number",placeholder:"Fees in $"},domProps:{value:t.tour.fees},on:{input:function(e){e.target.composing||t.$set(t.tour,"fees",e.target.value)}}})]),a("div",{staticClass:"col-8 offset-2",attrs:{id:"input"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tour.city,expression:"tour.city"}],staticClass:"form-control mb-4",attrs:{type:"text",placeholder:"City"},domProps:{value:t.tour.city},on:{input:function(e){e.target.composing||t.$set(t.tour,"city",e.target.value)}}})]),a("div",{staticClass:"col-8 offset-2",attrs:{id:"input"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tour.language,expression:"tour.language"}],staticClass:"form-control mb-4",attrs:{type:"text",placeholder:"Languages Comma seperated"},domProps:{value:t.tour.language},on:{input:function(e){e.target.composing||t.$set(t.tour,"language",e.target.value)}}})]),a("button",{staticClass:"btn btn-primary col-2",on:{click:t.add}},[t._v(t._s(t.buttonText))])])])},O=[],T=(a("7f7f"),{name:"AddTours",data:function(){return{name:"",phone:"",fees:"",city:"",language:"",tour:{},buttonText:""}},methods:{add:function(){var t=this,e={name:this.tour.name,phone:this.tour.phone,fees:this.tour.fees,user_id:C.a.decode(localStorage.getItem("token")).userId,city:this.tour.city,language:this.tour.language};"Add Tour Guide"==this.buttonText?this.$http.post("http://localhost:3000/tours/addtour",e).then((function(e){t.$notify({group:"foo",title:"Success",text:"You Added a tour guide successfully"}),t.$router.push({name:"my-tours"})}),(function(e){console.log(e),t.$notify({group:"foo",title:"Error",text:"An error occured"})})):this.$http.put("http://localhost:3000/tours/edit/"+this.tour.tour_id,e).then((function(e){t.$notify({group:"foo",title:"Success",text:"You Updated a tour guide successfully"}),t.$router.push({name:"my-tours"})}))}},mounted:function(){var t=this;this.$route.params.id?(this.$http.get("http://localhost:3000/tours/getById/"+this.$route.params.id).then((function(e){t.tour=e.data.rows[0]})),this.buttonText="Update Tour Guide"):(this.tour={name:"",phone:"",fees:"",city:"",language:""},this.buttonText="Add Tour Guide")}}),j=T,N=(a("d54c"),Object(l["a"])(j,I,O,!1,null,"371d7db9",null)),E=N.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{"margin-top":"5%"}},[a("form",{staticClass:"text-center p-5",staticStyle:{border:"2px solid grey","border-radius":"5px"},attrs:{action:"#!"}},[a("h2",{staticClass:"font-weight-light text-center",staticStyle:{"margin-top":"5%","margin-bottom":"5%"}},[t._v("Login")]),a("div",{staticClass:"col-8 offset-2",attrs:{id:"input"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:"col-8 offset-2",attrs:{id:"input"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("button",{staticClass:"btn btn-primary col-2",on:{click:t.login}},[t._v("Login")])])])},A=[],G={name:"Login",props:{},data:function(){return{email:"",password:"",token:"",loggedIn:!1}},methods:{login:function(){var t=this,e={email:this.email,pass:this.password};this.$http.post("http://localhost:3000/users/login",e).then((function(e){console.log(e),localStorage.setItem("token",e.data.token),t.$notify({group:"foo",title:"Success",text:"You Logged in !"}),t.$router.replace({name:"home"}),location.reload()}))}}},U=G,Y=(a("91b1"),Object(l["a"])(U,M,A,!1,null,"3510ac6c",null)),D=Y.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{"margin-top":"5%"}},[a("form",{staticClass:"text-center p-5",staticStyle:{border:"2px solid grey","border-radius":"5px"},attrs:{action:"#!"}},[a("h2",{staticClass:"font-weight-light text-center",staticStyle:{"margin-top":"5%","margin-bottom":"5%"}},[t._v("Sign Up")]),a("div",{staticClass:"col-8 offset-2",attrs:{id:"input"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:"col-8 offset-2",attrs:{id:"input"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("div",{staticClass:"col-8 offset-2",attrs:{id:"input"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPassword,expression:"confirmPassword"}],staticClass:"form-control mb-4",attrs:{type:"password",placeholder:"confirm password"},domProps:{value:t.confirmPassword},on:{input:function(e){e.target.composing||(t.confirmPassword=e.target.value)}}})]),a("button",{staticClass:"btn btn-primary col-2",on:{click:t.signup}},[t._v("Sign Up")])])])},H=[],J={name:"Signup",props:{},data:function(){return{email:"",password:"",confirmPassword:""}},methods:{signup:function(){var t=this;if(this.password==this.confirmPassword){var e={email:this.email,pass:this.password};this.$http.post("http://localhost:3000/users/register",e).then((function(e){console.log(e),t.$notify({group:"foo",title:"Success",text:"You Signed Up !"}),t.$router.push({name:"login"})}),(function(e){console.log("err",e),t.$notify({group:"foo",title:"error",text:e})}))}else this.$notify({group:"foo",title:"error",text:"make sure 2 passwords are equal"})}}},R=J,W=(a("280a"),Object(l["a"])(R,F,H,!1,null,"bea8c894",null)),q=W.exports,B=[{path:"/",name:"home",component:P},{path:"/home",name:"home",component:P},{path:"/my-tours",name:"my-tours",component:w},{path:"/add-tour",name:"add-tour",component:E},{path:"/login",name:"login",component:D},{path:"/Signup",name:"signup",component:q}],z=a("ee98"),K=a.n(z);s["default"].use(p["a"]),s["default"].use(d["a"]),s["default"].prototype.$http=f.a,s["default"].use(K.a),s["default"].config.productionTip=!1;var Q=new d["a"]({routes:B});new s["default"]({render:function(t){return t(u)},router:Q}).$mount("#app")},"56f0":function(t,e,a){},"630a":function(t,e,a){},"64a9":function(t,e,a){},"6e9c":function(t,e,a){},"7d5d":function(t,e,a){},"91b1":function(t,e,a){"use strict";var s=a("6e9c"),o=a.n(s);o.a},"91db":function(t,e,a){},d286:function(t,e,a){"use strict";var s=a("7d5d"),o=a.n(s);o.a},d54c:function(t,e,a){"use strict";var s=a("630a"),o=a.n(s);o.a}});
//# sourceMappingURL=app.82ef706a.js.map